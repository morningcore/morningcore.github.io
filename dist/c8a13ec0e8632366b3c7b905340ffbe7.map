{"version":3,"sources":["node_modules/preact/dist/preact.esm.js","node_modules/warning/browser.js","node_modules/invariant/browser.js","node_modules/resolve-pathname/index.js","node_modules/value-equal/index.js","node_modules/history/es/PathUtils.js","node_modules/history/es/LocationUtils.js","node_modules/history/es/createTransitionManager.js","node_modules/history/es/DOMUtils.js","node_modules/history/es/createBrowserHistory.js","node_modules/history/es/createHashHistory.js","node_modules/history/es/createMemoryHistory.js","node_modules/history/es/index.js","node_modules/preact-router/dist/preact-router.es.js","src/libs/dateUtil.ts","src/components/Comment.tsx","src/components/Loader.tsx","node_modules/whatwg-fetch/fetch.js","src/config.ts","src/libs/githubApis.ts","src/Article.tsx","src/components/Pagination.tsx","src/Articles.tsx","src/Blog.tsx","src/index.tsx","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","i","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","defer","Promise","resolve","then","bind","setTimeout","cloneElement","slice","call","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","list","renderComponent","isSameNodeType","node","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","createNode","isSvg","document","createElementNS","createElement","removeNode","parentNode","removeChild","setAccessor","name","old","value","className","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","e","type","event","mounts","diffLevel","isSvgMode","flushMounts","c","afterMount","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","recollectNodeTree","vnodeName","buildComponentFromVNode","firstChild","fc","vchildren","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","isHydrating","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","j","f","vchild","_child","__key","trim","insertBefore","unmountOnly","unmountComponent","ref","removeChildren","lastChild","next","previousSibling","attrs","components","collectComponent","constructor","createComponent","Ctor","inst","prototype","render","Component","doRender","nextBase","splice","state","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","rendered","cbase","shouldComponentUpdate","componentWillUpdate","getChildContext","childComponent","toUnmount","childProps","_parentComponent","baseParent","componentRef","t","unshift","componentDidUpdate","afterUpdate","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","beforeUnmount","componentWillUnmount","inner","setState","callback","s","forceUpdate","merge","preact","warning","condition","format","args","Array","Error","argIndex","message","console","error","x","module","exports","invariant","b","d","framesToPop","isAbsolute","pathname","charAt","spliceOne","index","k","n","resolvePathname","to","from","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","hasTrailingSlash","last","up","part","result","join","substr","_typeof","Symbol","iterator","valueEqual","isArray","every","item","aType","bType","aValue","valueOf","bValue","aKeys","Object","keys","bKeys","addLeadingSlash","path","stripLeadingSlash","hasBasename","prefix","RegExp","stripBasename","stripTrailingSlash","parsePath","search","hash","hashIndex","indexOf","searchIndex","createPath","location","_extends","assign","target","source","hasOwnProperty","createLocation","currentLocation","decodeURI","URIError","locationsAreEqual","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","listeners","appendListener","fn","isActive","listener","apply","filter","notifyListeners","_len","_key","forEach","canUseDOM","window","attachEvent","detachEvent","getConfirmation","confirm","supportsHistory","ua","navigator","userAgent","history","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","Math","random","toString","transitionManager","nextState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","href","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","listen","unlisten","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getHashPath","pushHashPath","replaceHashPath","createHashHistory","canGoWithoutReload","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","encodedPath","prevLocation","allPaths","lastIndexOf","hashChanged","nextPaths","clamp","lowerBound","upperBound","max","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","map","entry","nextIndex","nextEntries","canGo","EMPTY$1","exec","url","route","reg","match","matches","r","decodeURIComponent","segmentize","i$1","param","flags","plus","star","val","default","pathRankSort","rank","prepareVNodeForRanking","rankChild","rankSegment","segment","customHistory","ROUTERS","subscribers","EMPTY","isPreactElement","__preactattr_","for","setUrl","getCurrentUrl","getCurrentLocation","canRoute","routeTo","didRoute","routeFromLink","getAttribute","handleLinkClick","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","toUpperCase","hasAttribute","eventListenersInitialized","initEventListeners","Router","Component$$1","__proto__","create","static","onChange","getMatchingChildren","_didRoute","updating","this$1","invoke","sort","newProps","Boolean","ref$1","active","current","previous","previousUrl","router","Link","onClick","Route","bundleURL","getBundleURLCached","getBundleURL","err","getBaseURL","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","Date","now","cssTimeout","reloadCSS","links","querySelectorAll"],"mappings":"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,EAAgC,SAAS,MAAT,CAAgB,QAAQ,UAAxB,EAAoC,qBAApC,CAAhC,CALF,CADF,EAQE,MAAA,aAAA,CAAA,KAAA,EAAA,EAAK,WAAU,eAAf,EAAA,EACE,MAAA,aAAA,CAAA,KAAA,EAAA,EAAK,WAAU,gCAAf,EAAgD,yBAAyB,EAAC,QAAQ,QAAQ,SAAjB,EAAzE,EAAA,CADF,CARF,CADF;AAcD,KAfD;AAgBF,WAAA,OAAA;AAjBA,CAAA,CAAqC,MAAM,SAA3C,CAAA;;;;;;;;;;;;;;;;;;;;;;ACXA,IAAA,QAAA,QAAA,QAAA,CAAA;AAMA,IAAA,SAAA,aAAA,UAAA,MAAA,EAAA;AAAoC,cAAA,MAAA,EAAA,MAAA;AAApC,aAAA,MAAA,GAAA;;AAMC;AALC,WAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,eACE,MAAA,aAAA,CAAA,KAAA,EAAA,EAAK,WAAU,QAAf,EAAA,CADF;AAGD,KAJD;AAKF,WAAA,MAAA;AANA,CAAA,CAAoC,MAAM,SAA1C,CAAA;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7cA,QAAA,OAAA,GAAe;AACb,cAAU,aADG;AAEb,UAAM,mCAFO;AAGb,cAAU;AAHG,CAAf;;;;;ACAA,QAAA,cAAA;AACA,IAAA,WAAA,QAAA,WAAA,CAAA;AAEA,IAAM,OAAO,wBAAb;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAA,OAAA,GAAA;AACE,WAAO,MACF,OAAI,GAAJ,GAAQ,SAAA,OAAA,CAAO,QADb,EAEL,IAFK,CAEA,UAAC,GAAD,EAAI;AAAK,eAAA,IAAI,IAAJ,EAAA;AAAU,KAFnB,CAAP;AAGD;AAJD,QAAA,OAAA,GAAA,OAAA;AAMA,SAAA,UAAA,GAAA;AACE,WAAO,MACF,OAAI,SAAJ,GAAc,SAAA,OAAA,CAAO,IAArB,GAAyB,SADvB,EAEL,IAFK,CAEA,UAAC,GAAD,EAAI;AAAK,eAAA,IAAI,IAAJ,EAAA;AAAU,KAFnB,CAAP;AAGD;AAJD,QAAA,UAAA,GAAA,UAAA;AAMA,SAAA,QAAA,CAAyB,EAAzB,EAAmC;AACjC,WAAO,MACF,OAAI,SAAJ,GAAc,SAAA,OAAA,CAAO,IAArB,GAAyB,UAAzB,GAAoC,EADlC,EAEL;AACE,iBAAS;AACP,sBAAU;AADH;AA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","file":"c8a13ec0e8632366b3c7b905340ffbe7.map","sourcesContent":["/** Virtual DOM Node */\nfunction VNode() {}\n\n/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nvar options = {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n  *\t@name syncComponentUpdates\n  *\t@type Boolean\n  *\t@default true\n  */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n  *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n  */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\n/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virutal DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\n// DOM properties that should NOT have \"px\" added when numeric\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n/** Managed queue of dirty components to be re-rendered */\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hyrdating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nfunction isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined;\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName;\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nfunction isNamedNode(node, nodeName) {\n  return node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nfunction getNodeProps(vnode) {\n  var props = extend({}, vnode.attributes);\n  props.children = vnode.children;\n\n  var defaultProps = vnode.nodeName.defaultProps;\n  if (defaultProps !== undefined) {\n    for (var i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i];\n      }\n    }\n  }\n\n  return props;\n}\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {\n\t\t// ignore\n\t} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value == null ? '' : value);\n\t\tif (value == null || value === false) node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink\\:?/, ''));\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) {}\n}\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nvar mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nvar diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nvar isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nvar hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\t// If the VNode represents a Component, perform a component diff:\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t} // if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t} else {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nvar components = {};\n\n/** Reclaim a component for later re-use by the recycler. */\nfunction collectComponent(component) {\n\tvar name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nfunction createComponent(Ctor, props, context) {\n\tvar list = components[Ctor.name],\n\t    inst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\tif (list) {\n\t\tfor (var i = list.length; i--;) {\n\t\t\tif (list[i].constructor === Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nfunction setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif (component.__ref = props.ref) delete props.ref;\n\tif (component.__key = props.key) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t} else if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts !== 0) {\n\t\tif (opts === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nfunction renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\t\t\t// set up high order component link\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks != null) {\n\t\twhile (component._renderCallbacks.length) {\n\t\t\tcomponent._renderCallbacks.pop().call(component);\n\t\t}\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.context = context;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.props = props;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n  *\t@param {object} nextProps\n  *\t@param {object} nextState\n  *\t@param {object} nextContext\n  *\t@returns {Boolean} should the component re-render\n  *\t@name shouldComponentUpdate\n  *\t@function\n  */\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n  *\t@param {object} state\t\tA hash of state properties to update with new values\n  *\t@param {function} callback\tA function to be called once component state is updated\n  */\n\tsetState: function setState(state, callback) {\n\t\tvar s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state === 'function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n  *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n  *\t@private\n  */\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n  *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n  *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n  *\t@param {object} state\t\tThe component's current state\n  *\t@param {object} context\t\tContext object (if a parent component has provided context)\n  *\t@returns VNode\n  */\n\trender: function render() {}\n});\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\nexport default preact;\n//# sourceMappingURL=preact.esm.js.map\n","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;","export var addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nexport var stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nexport var hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nexport var stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nexport var stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nexport var parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nexport var createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport { parsePath } from './PathUtils';\n\nexport var createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nexport var locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n};","import warning from 'warning';\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    warning(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexport default createTransitionManager;","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexport var addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nexport var removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nexport var getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nexport var supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nexport var supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nexport var supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nexport var isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation } from './LocationUtils';\nimport { addLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsHistory, supportsPopStateOnHashChange, isExtraneousPopstateEvent } from './DOMUtils';\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  invariant(canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = stripBasename(path, basename);\n\n    return createLocation(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + createPath(location);\n  };\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexport default createBrowserHistory;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation, locationsAreEqual } from './LocationUtils';\nimport { addLeadingSlash, stripLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsGoWithoutReloadUsingHash } from './DOMUtils';\n\nvar HashChangeEvent = 'hashchange';\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  invariant(canUseDOM, 'Hash history needs a DOM');\n\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = stripBasename(path, basename);\n\n    return createLocation(path);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n\n      if (!forceNextPop && locationsAreEqual(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  // Ensure the hash is encoded properly before doing anything else.\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + createPath(location));\n  };\n\n  var push = function push(path, state) {\n    warning(state === undefined, 'Hash history cannot push state; it is ignored');\n\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n        nextPaths.push(path);\n        allPaths = nextPaths;\n\n        setState({ action: action, location: location });\n      } else {\n        warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(state === undefined, 'Hash history cannot replace state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexport default createHashHistory;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport warning from 'warning';\nimport { createPath } from './PathUtils';\nimport { createLocation } from './LocationUtils';\nimport createTransitionManager from './createTransitionManager';\n\nvar clamp = function clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n};\n\n/**\n * Creates a history object that stores locations in memory.\n */\nvar createMemoryHistory = function createMemoryHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getUserConfirmation = props.getUserConfirmation,\n      _props$initialEntries = props.initialEntries,\n      initialEntries = _props$initialEntries === undefined ? ['/'] : _props$initialEntries,\n      _props$initialIndex = props.initialIndex,\n      initialIndex = _props$initialIndex === undefined ? 0 : _props$initialIndex,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  });\n\n  // Public interface\n\n  var createHref = createPath;\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n\n      var nextEntries = history.entries.slice(0);\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      history.entries[history.index] = location;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var canGo = function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  };\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return transitionManager.setPrompt(prompt);\n  };\n\n  var listen = function listen(listener) {\n    return transitionManager.appendListener(listener);\n  };\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexport default createMemoryHistory;","import _createBrowserHistory from './createBrowserHistory';\nexport { _createBrowserHistory as createBrowserHistory };\nimport _createHashHistory from './createHashHistory';\nexport { _createHashHistory as createHashHistory };\nimport _createMemoryHistory from './createMemoryHistory';\nexport { _createMemoryHistory as createMemoryHistory };\n\nexport { createLocation, locationsAreEqual } from './LocationUtils';\nexport { parsePath, createPath } from './PathUtils';","import { Component, cloneElement, h } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t(a.rank > b.rank) ? -1 :\n\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.attributes;\n}\n\nfunction segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nfunction rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.attributes.default ? 0 : rank(vnode.attributes.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) { return; }\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) { return this.canRoute(url); }\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( function (vnode) {\n\t\t\t\tvar matches = exec(url, vnode.attributes.path, vnode.attributes);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\th('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return h(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n","const tokenRegexp = /Y+|M+|D+|H+|m+|s+|./g\n\nconst parsers = {\n  'Y': {\n    match: /^(\\d{1,4})/,\n    unit: 'years'\n  },\n  'M': {\n    match: /^(1[0-2]|0?[1-9])/,\n    unit: 'months'\n  },\n  'D': {\n    match: /^(\\d{1,2})/,\n    unit: 'dates'\n  },\n  'H': {\n    match: /^(2[0-3]|[0-1]?\\d)/,\n    unit: 'hours'\n  },\n  'm': {\n    match: /^([0-5]?\\d)/,\n    unit: 'minutes'\n  },\n  's': {\n    match: /^([0-5]?\\d)/,\n    unit: 'seconds'\n  }\n}\n\nfunction padStart (original: string | number, targetLength: number, padString: string) {\n  original = String(original)\n\n  if (original.length < targetLength) {\n    original = padString[0].repeat(targetLength - original.length) + original\n  }\n\n  return original\n}\n\n\nexport function format (source: Date | string, format: string) {\n  const date = source instanceof Date ? source : new Date(source)\n\n  const details = {\n    years: date.getFullYear(),\n    months: date.getMonth() + 1,\n    dates: date.getDate(),\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds()\n  }\n\n  return format.replace(tokenRegexp, (token) => {\n    const value = parsers[token[0]] && details[parsers[token[0]].unit]\n\n    return value === undefined\n      ? token\n      : padStart(value, token.length, '0')\n  })\n}\n","import * as React from 'preact'\n\nimport {IComment} from '../interfaces'\nimport * as dateUtil from '../libs/dateUtil'\n\nexport interface ICommentProps {\n  comment: IComment\n}\n\nexport interface ICommentState {}\n\nexport default class Comment extends React.Component<ICommentProps, ICommentState> {\n  render ({comment}: ICommentProps) {\n    return (\n      <div className='Comment'>\n        <div className='Comment__header'>\n          <div className='Comment__avatar'>\n            <img src={comment.user.avatar_url}/>\n          </div>\n          <div className='Comment__user'>{comment.user.login}{comment.author_association === 'OWNER' && <span>作者</span>}</div>\n          <div className='Comment__date'>{dateUtil.format(comment.created_at, 'YYYY-MM-DD HH:mm:ss')}</div>\n        </div>\n        <div className='Comment__body'>\n          <div className='Comment__content markdown-body' dangerouslySetInnerHTML={{__html: comment.body_html}}/>\n        </div>\n      </div>\n    )\n  }\n}\n","import * as React from 'preact'\n\nexport interface ILoaderProps {}\n\nexport interface ILoaderState {}\n\nexport default class Loader extends React.Component<ILoaderProps, ILoaderState> {\n  render () {\n    return (\n      <div className='Loader'></div>\n    )\n  }\n}\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","export default {\n  username: 'morningcore',\n  repo: 'morningcore/morningcore.github.io',\n  pageSize: 10,\n  // clientId: '',\n  // clientSecret: ''\n}\n","import 'whatwg-fetch'\nimport config from '../config'\n\nconst base = 'https://api.github.com'\n\n// const proxyBase = 'https://cors-anywhere.herokuapp.com'\n\n// const authUrl = 'https://github.com/login/oauth/access_token'\n\n// export function getAccessToken (code: string) {\n//   return fetch(\n//     `${proxyBase}/${authUrl}`,\n//     {\n//       method: 'POST',\n//       body: JSON.stringify({\n//         code,\n//         client_id: config.clientId,\n//         client_secret: config.clientSecret\n//       })\n//     }\n//   )\n// }\n\nexport function getUser() {\n  return fetch(\n    `${base}/${config.username}`\n  ).then((res) => res.json())\n}\n\nexport function listLabels() {\n  return fetch(\n    `${base}/repos/${config.repo}/labels`\n  ).then((res) => res.json())\n}\n\nexport function getIssue(id: number) {\n  return fetch(\n    `${base}/repos/${config.repo}/issues/${id}`,\n    {\n      headers: {\n        'Accept': 'application/vnd.github.v3.html'\n      }\n    }\n  ).then((res) => res.json())\n}\n\nexport function listIssues(page: number) {\n  const query = `q=state:open+repo:${config.repo}+author:${config.username}&sort=created&order=desc&page=${page}&per_page=${config.pageSize}`\n\n  return fetch(\n    `${base}/search/issues?${query}`,\n    {\n      headers: {\n        'Accept': 'application/vnd.github.v3.html'\n      }\n    }\n  ).then((res) => res.json())\n}\n\nexport function listComments (number: number) {\n  return fetch(\n    `${base}/repos/${config.repo}/issues/${number}/comments`,\n    {\n      headers: {\n        'Accept': 'application/vnd.github.v3.html'\n      }\n    }\n  ).then((res) => res.json())\n}\n\n// export function addComment (accessToken: string, number: number, content: string) {\n//   return fetch(\n//     `${base}/repos/${config.repo}/issues/${number}/comments`,\n//     {\n//       method: 'POST',\n//       headers: {\n//         Authorization: `token ${accessToken}`\n//       },\n//       body: JSON.stringify({\n//         body: content\n//       })\n//     }\n//   )\n// }\n","import * as React from 'preact'\n\nimport Comment from './components/Comment'\nimport Loader from './components/Loader'\nimport {IArticle, IComment} from './interfaces'\nimport * as dateUtil from './libs/dateUtil'\nimport * as githubApis from './libs/githubApis'\n\nexport interface IArticleProps {\n  path?: string\n  url?: string\n  number?: string\n  matches?: {\n    number: string\n  }\n}\n\nexport interface IArticleState {\n  article: IArticle | null\n  comments: IComment[]\n}\n\nexport default class Article extends React.Component<IArticleProps, IArticleState> {\n\n  constructor (props: IArticleProps) {\n    super(props)\n    this.state = {\n      article: null,\n      comments: []\n    }\n  }\n\n  componentDidMount () {\n    this.load(parseInt(this.props.number || ''))\n  }\n\n  load (number: number) {\n    githubApis.getIssue(number)\n      .then((body) => {\n        this.setState({\n          article: body\n        })\n      })\n      .then(() => {\n        githubApis.listComments(number).then((body) => {\n          this.setState({\n            comments: body\n          })\n        })\n      })\n  }\n\n  render (props: IArticleProps, {article, comments}: IArticleState) {\n    if (!article) {\n      return <Loader/>\n    }\n\n    return (\n      <div className='Article'>\n        <div className='Article__header'>\n          <h1 className='Article__title'>\n            {article.title}\n          </h1>\n          <div className='Article__details'>\n            <span className='Article__date'>{dateUtil.format(article.created_at, 'DD / MM / YYYY')}</span>\n            <span className='Article__tags'>\n              {article.labels.map((label) => (\n                <span className='Article__tag'>{label.name}</span>\n              ))}\n            </span>\n            <span className='Article__comments'>评论&nbsp;{article.comments}</span>\n          </div>\n        </div>\n        <div className='Article__body'>\n          <div className='Article__content markdown-body' dangerouslySetInnerHTML={{__html: article.body_html}}/>\n        </div>\n        <div className='Article__footer'>\n          <a href={`${article.html_url}#partial-timeline-marker`}>\n            <div className='Article__reply'>点击评论</div>\n          </a>\n          {comments.map((comment) => (\n            <Comment comment={comment}/>\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n","import * as React from 'preact'\n\nexport interface IPaginationProps {\n  page: number\n  total: number\n}\n\nexport interface IPaginationState {\n  start: number\n  end: number\n}\n\nexport default class Pagination extends React.Component<IPaginationProps, IPaginationState> {\n\n  constructor (props: IPaginationProps) {\n    super(props)\n\n    const start = props.page - 3\n    const end = props.page + 3\n    \n\n    this.state = {\n      start: start > 0 ? start : 1,\n      end: end < props.total ? end : props.total\n    }\n  }\n\n  render ({page}: IPaginationProps, {start, end}: IPaginationState) {\n    const buttons: any[] = []\n\n    for (let i = start; i <= end; i++) {\n      let className = 'Pagination__item'\n\n      if (i === page) {\n        className += ' Pagination__item--active'\n      }\n\n      buttons.push(\n        <li className={className}><a href={`/${i}`}>{i}</a></li>\n      )\n    }\n\n    return (\n      <ul className='Pagination'>\n        {buttons}\n      </ul>\n    )\n  }\n}\n","import * as React from 'preact'\n\nimport {IArticle} from './interfaces'\nimport * as dateUtil from './libs/dateUtil'\nimport * as githubApis from './libs/githubApis'\nimport Loader from './components/Loader';\nimport Pagination from './components/Pagination';\nimport config from './config';\n\nexport interface IArticlesProps {\n  page?: string\n}\n\nexport interface IArticlesState {\n  loading: boolean\n  total: number\n  page: number\n  articles: IArticle[]\n}\n\nexport default class Articles extends React.Component<IArticlesProps, IArticlesState> {\n\n  constructor (props: IArticlesProps) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      total: -1,\n      page: 0,\n      articles: []\n    }\n  }\n\n  componentDidMount () {\n    const page = parseInt(this.props.page as any) || 1\n    this.load(page)\n  }\n\n  componentWillReceiveProps(nextProps: IArticlesProps) {\n    const page = parseInt(nextProps.page as any) || 1\n    this.load(page)\n  }\n\n  load (nextPage: number) {\n    this.setState({loading: true})\n    githubApis.listIssues(nextPage).then((body) => {\n      this.setState({\n        loading: false,\n        total: body.total_count,\n        page: nextPage,\n        articles: body.items\n      })\n    })\n  }\n\n  render (props: IArticlesProps, {loading, articles, page, total}: IArticlesState) {\n    if (loading) {\n      return <Loader/>\n    }\n\n    const totalPage = Math.ceil(total / config.pageSize)\n\n    return (\n      <div className='Articles'>\n        <ul className='Articles__items'>\n          {articles.map((article) => (\n            <li className='Articles__item'>\n              <span className='Articles__item-date'>{dateUtil.format(article.created_at, 'DD / MM / YYYY')}</span>\n              <a href={`/articles/${article.number}`} className='Articles__item-title'>{article.title}</a>\n            </li>\n          ))}\n        </ul>\n        <Pagination page={page} total={totalPage}/>\n      </div>\n    )\n  }\n}\n","import {createHashHistory} from 'history'\nimport * as React from 'preact'\nimport {Router} from 'preact-router'\n\nimport Article from './Article'\nimport Articles from './Articles'\n\nconst history = createHashHistory()\n\nexport interface IBlogProps {}\n\nexport interface IBlogState {}\n\nexport default class Blog extends React.Component<IBlogProps, IBlogState> {\n\n  constructor (props: IBlogProps) {\n    super(props)\n    this.state = {}\n  }\n\n  render (props: any) {\n    return (\n      <div className='Blog'>\n        <div className='Blog__header'>\n          <div className='Blog__title'>\n            <a href='/'>晨间说</a>\n          </div>\n          <ul className='Blog__links'>\n            <li className='Blog__link'>\n              <a href='https://github.com/Morningcore'>GitHub</a>\n            </li>\n           \n            <li className='Blog__link'>\n              <a href='mailto:caichen.wh@foxmail.com'>Email</a>\n            </li>\n          </ul>\n        </div>\n        <div className='Blog__body'>\n          <Router history={history}>\n            <Articles path='/:page?'/>\n            <Article path='/articles/:number'/>\n          </Router>\n        </div>\n        <div className='Blog__footer'></div>\n      </div>\n    )\n  }\n}\n","import 'github-markdown-css/github-markdown.css'\nimport './index.less'\n\nimport * as React from 'preact'\n\nimport Blog from './Blog'\n\nReact.render(\n  <div id='root'>\n    <Blog/>\n  </div>\n, document.body)\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}